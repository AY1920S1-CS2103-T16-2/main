<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>MODULO - Developer Guide</title><link rel="stylesheet" href="stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="index.html">Modulo</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link active" href="DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103-T16-2/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>MODULO - Developer Guide</h1></div><div id="content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>By: <code>AY1920S1-CS2103-T16-2</code>      Since: <code>September 2019</code>      Licence: <code>MIT</code></p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#setting-up">1. Setting up</a></li>
<li><a href="#design">2. Design</a>
<ul class="sectlevel2">
<li><a href="#Design-Architecture">2.1. Architecture</a></li>
<li><a href="#Design-Ui">2.2. UI component</a></li>
<li><a href="#Design-Logic">2.3. Logic component</a></li>
<li><a href="#Design-Model">2.4. Model component</a></li>
<li><a href="#Design-Storage">2.5. Storage component</a></li>
<li><a href="#Design-Commons">2.6. Common classes</a></li>
</ul>
</li>
<li><a href="#Implementation-Configuration">3. Implementation</a>
<ul class="sectlevel2">
<li><a href="#logging">3.1. Logging</a></li>
<li><a href="#configuration">3.2. Configuration</a></li>
<li><a href="#calendar-week-change">3.3. Calendar week change</a></li>
<li><a href="#quiz-feature">3.4. Quiz feature</a></li>
</ul>
</li>
<li><a href="#documentation">4. Documentation</a></li>
<li><a href="#testing">5. Testing</a></li>
<li><a href="#dev-ops">6. Dev Ops</a></li>
<li><a href="#product-scope">Appendix A: Product Scope</a></li>
<li><a href="#user-stories">Appendix B: User Stories</a></li>
<li><a href="#use-cases">Appendix C: Use Cases</a></li>
<li><a href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></li>
<li><a href="#glossary">Appendix E: Glossary</a></li>
<li><a href="#instructions-for-manual-testing">Appendix F: Instructions for Manual Testing</a>
<ul class="sectlevel2">
<li><a href="#launch-and-shutdown">F.1. Launch and Shutdown</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="setting-up"><a class="link" href="#setting-up">1. Setting up</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="SettingUp.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="design"><a class="link" href="#design">2. Design</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="Design-Architecture"><a class="link" href="#Design-Architecture">2.1. Architecture</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ArchitectureDiagram.png" alt="ArchitectureDiagram">
</div>
<div class="title">Figure 1. Architecture Diagram</div>
</div>
<div class="paragraph">
<p><code>Main</code> has two classes called <a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/Main.java"><code>Main</code></a> and <a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/MainApp.java"><code>MainApp</code></a>. It is responsible for,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At app launch: Initializes the components in the correct sequence, and connects them up with each other.</p>
</li>
<li>
<p>At shut down: Shuts down the components and invokes cleanup method where necessary.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#Design-Commons"><strong><code>Commons</code></strong></a> represents a collection of classes used by multiple other components.
The following class plays an important role at the architecture level:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>LogsCenter</code> : Used by many classes to write log messages to the App&#8217;s log file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The rest of the App covers the four features in <em>Modulo</em> (Calendar, Cap, Quiz, Finance). All the features have the very similar structure, each consisting of four components.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#Design-Ui"><strong><code>UI</code></strong></a>: The UI of the App.</p>
</li>
<li>
<p><a href="#Design-Logic"><strong><code>Logic</code></strong></a>: The command executor.</p>
</li>
<li>
<p><a href="#Design-Model"><strong><code>Model</code></strong></a>: Holds the data of the App in-memory.</p>
</li>
<li>
<p><a href="#Design-Storage"><strong><code>Storage</code></strong></a>: Reads data from, and writes data to, the hard disk.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each of the four components</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Defines its <em>API</em> in an <code>interface</code> with the same name as the Component.</p>
</li>
<li>
<p>Exposes its functionality using a <code>{Component Name}Manager</code> class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the <code>Logic</code> component (see the class diagram given below) defines it&#8217;s API in the <code>Logic.java</code> interface and exposes its functionality using the <code>LogicManager.java</code> class.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram">
</div>
<div class="title">Figure 2. Class Diagram of the Logic Component for the feature Cap</div>
</div>
<h4 id="how-the-architecture-components-interact-with-each-other" class="discrete">How the architecture components interact with each other</h4>
<div class="paragraph">
<p>The <em>Sequence Diagram</em> below shows how the components interact with each other for the scenario where the user issues the command <code>delete 1</code> when in the feature <em>Module</em>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ArchitectureSequenceDiagram.png" alt="ArchitectureSequenceDiagram">
</div>
<div class="title">Figure 3. Component interactions for <code>delete 1</code> command</div>
</div>
<div class="paragraph">
<p>The sections below give more details of each component.</p>
</div>
</div>
<div class="sect2">
<h3 id="Design-Ui"><a class="link" href="#Design-Ui">2.2. UI component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/UiClassDiagram.png" alt="UiClassDiagram">
</div>
<div class="title">Figure 4. Structure of the UI Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/ui/calendar/Ui.java"><code>Ui.java</code> (calendar)</a>, <a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/ui/cap/Ui.java"><code>Ui.java</code> (cap)</a>, <a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/ui/quiz/Ui.java"><code>Ui.java</code> (quiz)</a>, <a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/ui/finance/Ui.java"><code>Ui.java</code> (finance)</a></p>
</div>
<div class="paragraph">
<p>The UI consists of a <code>MainWindow</code> that is made up of parts e.g.<code>CommandBox</code>, <code>ResultDisplay</code>, <code>XYZListPanel</code>, <code>StatusBarFooter</code> etc. All these, including the <code>MainWindow</code>, inherit from the abstract <code>UiPart</code> class. Each feature in <em>Modulo</em> (represented generically in the class diagram with <code>XYZ</code>) has their own UI component, largely with the same structure but mainly differing in classes <code>XYZPanel</code> and <code>XYZCard</code> to better present the information associated with the feature.</p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component uses JavaFx UI framework. The layout of these UI parts are defined in matching <code>.fxml</code> files that are in the <code>src/main/resources/view</code> folder. For example, the layout of the <a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/ui/MainWindow.java"><code>MainWindow</code></a> is specified in <a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/resources/view/MainWindow.fxml"><code>MainWindow.fxml</code></a></p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Executes user commands using the <code>Logic</code> component.</p>
</li>
<li>
<p>Listens for changes to <code>Model</code> data so that the UI can be updated with the modified data.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Logic"><a class="link" href="#Design-Logic">2.3. Logic component</a></h3>
<div id="fig-LogicClassDiagram" class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram">
</div>
<div class="title">Figure 5. Structure of the Logic Component for the feature <em>Cap</em></div>
</div>
<div class="paragraph">
<p><strong>API</strong> :
<a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/logic/calendar/Logic.java"><code>Logic.java</code> (calendar)</a>,
<a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/logic/cap/Logic.java"><code>Logic.java</code> (cap)</a>,
<a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/logic/quiz/Logic.java"><code>Logic.java</code> (quiz)</a>,
<a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/logic/finance/Logic.java"><code>Logic.java</code> (finance)</a></p>
</div>
<div class="paragraph">
<p>The example below is in the context of the feature <em>Cap</em> but all four  features in <em>Modulo</em> have the same structure for their Logic components.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>Logic</code> uses the <code>CapLogParser</code> class to parse the user command.</p>
</li>
<li>
<p>This results in a <code>Command</code> object which is executed by the <code>LogicManager</code>.</p>
</li>
<li>
<p>The command execution can affect the <code>Model</code> (e.g. adding a person).</p>
</li>
<li>
<p>The result of the command execution is encapsulated as a <code>CommandResult</code> object which is passed back to the <code>Ui</code>.</p>
</li>
<li>
<p>In addition, the <code>CommandResult</code> object can also instruct the <code>Ui</code> to perform certain actions, such as displaying help to the user.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Given below is the Sequence Diagram for interactions within the <code>Logic</code> component for the <code>execute("delete 1")</code> API call, in the context of another feature of the APP, <em>Calendar</em>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/CalendarSequenceDiagram.png" alt="CalendarSequenceDiagram">
</div>
<div class="title">Figure 6. Interactions Inside the Logic Component for the <code>sort title</code> Command for the feature Calendar</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <code>SortCommandParser</code> should end at the destroy marker (X) but due to a limitation of PlantUML, the lifeline reaches the end of diagram.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="Design-Model"><a class="link" href="#Design-Model">2.4. Model component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/CapModelClassDiagram.png" alt="CapModelClassDiagram">
</div>
<div class="title">Figure 7. Structure of the Cap Model Component</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/FinanceModelClassDiagram.png" alt="FinanceModelClassDiagram">
</div>
<div class="title">Figure 8. Structure of the Model Component for the feature Finance</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/model/calendar/CalendarModel.java"><code>CalendarModel.java</code> (calendar)</a>, <a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/model/cap/Model.java"><code>Model.java</code> (cap)</a>,
<a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/model/quiz/Model.java"><code>Model.java</code> (quiz)</a>, <a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/model/finance/Model.java"><code>Model.java</code> (finance)</a></p>
</div>
<div class="paragraph">
<p>Due to the different nature and behaviour of each feature in <em>Modulo</em> dealing with different kinds of information (e.g. tasks, modules, quiz questions, finance logs etc), <code>Model</code> components between the feature can look very different. However, they do share some similar structures as mentioned below.</p>
</div>
<div class="paragraph">
<p>The <code>Model</code>,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stores a <code>UserPref</code> object that represents the user&#8217;s preferences.</p>
</li>
<li>
<p>stores the data for the feature (e.g. Calendar Data, Cap Module Log, Quiz book, Finance Log).</p>
</li>
<li>
<p>exposes an unmodifiable <code>ObservableList&lt;{Object used in Feature}&gt;</code> that can be 'observed' e.g. the UI can be bound to this list so that the UI automatically updates when the data in the list change.</p>
</li>
<li>
<p>does not depend on any of the other three components.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Storage"><a class="link" href="#Design-Storage">2.5. Storage component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/FinanceStorageClassDiagram.png" alt="FinanceStorageClassDiagram">
</div>
<div class="title">Figure 9. Structure of the Storage Component for the feature <em>Finance</em></div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/storage/calendar/Storage.java"><code>Storage.java</code> (calendar)</a>, <a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/storage/cap/Storage.java"><code>Storage.java</code> (cap)</a>, <a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/storage/quiz/Storage.java"><code>Storage.java</code> (quiz)</a>, <a href="https://github.com/AY1920S1-CS2103-T16-2/main/blob/master/src/main/java/seedu/address/storage/finance/Storage.java"><code>Storage.java</code> (finance)</a></p>
</div>
<div class="paragraph">
<p>The <code>Storage</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>can save <code>UserPref</code> objects in json format and read it back.</p>
</li>
<li>
<p>can save the data used in each feature in json format and read it back.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Commons"><a class="link" href="#Design-Commons">2.6. Common classes</a></h3>
<div class="paragraph">
<p>Classes used by multiple components are in the <code>seedu.addressbook.commons</code> package.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Implementation-Configuration"><a class="link" href="#Implementation-Configuration">3. Implementation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes some noteworthy details on how certain features are implemented.</p>
</div>
<div class="sect2">
<h3 id="logging"><a class="link" href="#logging">3.1. Logging</a></h3>
<div class="paragraph">
<p>We are using <code>java.util.logging</code> package for logging. The <code>LogsCenter</code> class is used to manage the logging levels and logging destinations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The logging level can be controlled using the <code>logLevel</code> setting in the configuration file (See <a href="#Implementation-Configuration">Section 3, &#8220;Implementation&#8221;</a>)</p>
</li>
<li>
<p>The <code>Logger</code> for a class can be obtained using <code>LogsCenter.getLogger(Class)</code> which will log messages according to the specified logging level</p>
</li>
<li>
<p>Currently log messages are output through: <code>Console</code> and to a <code>.log</code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Logging Levels</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SEVERE</code> : Critical problem detected which may possibly cause the termination of the application</p>
</li>
<li>
<p><code>WARNING</code> : Can continue, but with caution</p>
</li>
<li>
<p><code>INFO</code> : Information showing the noteworthy actions by the App</p>
</li>
<li>
<p><code>FINE</code> : Details that is not usually noteworthy but may be useful in debugging e.g. print the actual list instead of just its size</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="configuration"><a class="link" href="#configuration">3.2. Configuration</a></h3>
<div class="paragraph">
<p>Certain properties of the application can be controlled (e.g user prefs file location, logging level) through the configuration file (default: <code>config.json</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="calendar-week-change"><a class="link" href="#calendar-week-change">3.3. Calendar week change</a></h3>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">3.3.1. Implementation</a></h4>
<div class="paragraph">
<p>Calendar week change is done by removing all tasks from the calendar and adding all the tasks that either have the new
corresponding week number or is an instance of <code>ModuleTask</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">3.3.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-code-go-week_number-code-executes"><a class="link" href="#aspect-how-code-go-week_number-code-executes">Aspect: How <code>go WEEK_NUMBER</code> executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Save all data in a single json file.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: No need to switch storage file.</p>
</li>
<li>
<p>Cons: Unnecessary reading of data from other weeks. Need to add filter to get only the relevant data.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Read and load for each week from separate json storage file.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to clear data from a certain week.</p>
</li>
<li>
<p>Cons: Need to switch storage file each time the user go to the next/previous week.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="quiz-feature"><a class="link" href="#quiz-feature">3.4. Quiz feature</a></h3>
<div class="sect3">
<h4 id="create-question-feature"><a class="link" href="#create-question-feature">3.4.1. Create question feature</a></h4>
<div class="sect4">
<h5 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h5>
<div class="paragraph">
<p>To use this feature, the user will need to switch to the quiz mode and add the question they want with
several requirements on the syntax stated in the UserGuide.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario on how to add a question properly and the mechanism that behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application and switch to the <strong>quiz</strong> mode by executing <code>switch quiz</code>.</p>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code><strong>add &lt;qns&gt;</strong> <em>What is always coming, but never arrives?</em> <strong>&lt;ans&gt;</strong> <em>Today</em> <strong>&lt;cat&gt;</strong> <em>CS2131</em> <strong>&lt;type&gt;</strong> <em>high</em></code>
command to add a question with the question name: <em>What is always coming, but never arrives?</em>, answer: <em>Tomorrow</em>, category: CS2131 and type: <em>high</em> in the quiz book.
The <code>add</code> command calls <code>Model#addQuestion()</code>, causing the modified state of the quiz book, after the command executes, to be saved in the <code>quizBookStateList</code> and shown in the UI.</p>
</div>
<div class="paragraph">
<p>Step 3. If the user realized that they have typed the wrong answer for a particular question, then the user can executes
<code><strong>edit CS2131, 1 &lt;ans&gt;</strong> <em>Tomorrow</em></code> command to replace the previous answer with the new answer with the given category and index prepend behind. The <code>edit</code> command calls <code>Model#setQuestion()</code>,
causing the modified state of the quiz book, after the command executes, to be saved in the <code>quizBookStateList</code> and updated in the UI.</p>
</div>
<div class="paragraph">
<p>Step 4. [Addtional] The user can execute <code><strong>comment 1 &lt;val&gt;</strong> <em>The explanation is in pg 194 textbook</em></code> if he/she now decide to add a comment or explanation of a quiz question at index 1.
The <code>comment</code> command calls <code>Model#setQuestion()</code> to parse in an additional parameter of comment into the entity of the question. It will then be saved in the
<code>quizBookStateList</code> and shown in the UI.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Users can also utilize the undo/redo command when they realize that they have execute a command that they shouldn&#8217;t do (Will be explained in [3.5.2]).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes the basic question creation process:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/QuizCreationActivityDiagram.png" alt="QuizCreationActivityDiagram">
</div>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="undo-redo-feature"><a class="link" href="#undo-redo-feature">3.4.2. Undo/Redo feature</a></h4>
<div class="sect4">
<h5 id="implementation-3"><a class="link" href="#implementation-3">Implementation</a></h5>
<div class="paragraph">
<p>The undo/redo mechanism is facilitated by <code>VersionedQuizBook</code>.
It extends <code>QuizBook</code> with an undo/redo history, stored internally as an <code>quizBookStateList</code> and <code>currentStatePointer</code>.
Additionally, it implements the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VersionedQuizBook#commit()</code>&#8201;&#8212;&#8201;Saves the current quiz book state in its history.</p>
</li>
<li>
<p><code>VersionedQuizBook#undo()</code>&#8201;&#8212;&#8201;Restores the previous quiz book state from its history.</p>
</li>
<li>
<p><code>VersionedQuizBook#redo()</code>&#8201;&#8212;&#8201;Restores a previously undone quiz book state from its history.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These operations are exposed in the <code>Model</code> interface as <code>Model#commitQuizBook()</code>, <code>Model#undoQuizBook()</code> and <code>Model#redoQuizBook()</code> respectively.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the undo/redo mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application for the first time. The <code>VersionedQuizBook</code> will be initialized with the initial quiz book state, and the <code>currentStatePointer</code> pointing to that single quiz book state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState0.png" alt="UndoRedoState0">
</div>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>delete 5</code> command to delete the 5th person in the quiz book. The <code>delete</code> command calls <code>Model#commitQuizBook()</code>, causing the modified state of the quiz book after the <code>delete 5</code> command executes to be saved in the <code>quizBookStateList</code>, and the <code>currentStatePointer</code> is shifted to the newly inserted quiz book state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState1.png" alt="UndoRedoState1">
</div>
</div>
<div class="paragraph">
<p>Step 3. The user executes <code>comment 1 &lt;val&gt; NewComment</code> to add a new person. The <code>add</code> command also calls <code>Model#commitQuizBook()</code>, causing another modified quiz book state to be saved into the <code>quizBookStateList</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState2.png" alt="UndoRedoState2">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a command fails its execution, it will not call <code>Model#commitQuizBook()</code>, so the quiz book state will not be saved into the <code>quizBookStateList</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 4. The user now decides that adding the person was a mistake, and decides to undo that action by executing the <code>undo</code> command. The <code>undo</code> command will call <code>Model#undoQuizBook()</code>, which will shift the <code>currentStatePointer</code> once to the left, pointing it to the previous quiz book state, and restores the quiz book to that state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState3.png" alt="UndoRedoState3">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>currentStatePointer</code> is at index 0, pointing to the initial quiz book state, then there are no previous quiz book states to restore. The <code>undo</code> command uses <code>Model#canUndoQuizBook()</code> to check if this is the case. If so, it will return an error to the user rather than attempting to perform the undo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the undo operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoSequenceDiagram.png" alt="UndoSequenceDiagram">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <code>UndoCommand</code> should end at the destroy marker (X) but due to a limitation of PlantUML, the lifeline reaches the end of diagram.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>redo</code> command does the opposite&#8201;&#8212;&#8201;it calls <code>Model#redoQuizBook()</code>, which shifts the <code>currentStatePointer</code> once to the right, pointing to the previously undone state, and restores the quiz book to that state.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>currentStatePointer</code> is at index <code>quizBookStateList.size() - 1</code>, pointing to the latest quiz book state, then there are no undone quiz book states to restore. The <code>redo</code> command uses <code>Model#canRedoQuizBook()</code> to check if this is the case. If so, it will return an error to the user rather than attempting to perform the redo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 5. The user then decides to execute the command <code>list</code>. Commands that do not modify the quiz book, such as <code>list</code>, will usually not call <code>Model#commitQuizBook()</code>, <code>Model#undoQuizBook()</code> or <code>Model#redoQuizBook()</code>. Thus, the <code>quizBookStateList</code> remains unchanged.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState4.png" alt="UndoRedoState4">
</div>
</div>
<div class="paragraph">
<p>Step 6. The user executes <code>clear</code>, which calls <code>Model#commitQuizBook()</code>. Since the <code>currentStatePointer</code> is not pointing at the end of the <code>quizBookStateList</code>, all quiz book states after the <code>currentStatePointer</code> will be purged. We designed it this way because it no longer makes sense to redo the <code>add n/David &#8230;&#8203;</code> command. This is the behavior that most modern desktop applications follow.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState5.png" alt="UndoRedoState5">
</div>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user executes a new command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/CommitActivityDiagram.png" alt="CommitActivityDiagram">
</div>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h5>
<div class="sect5">
<h6 id="aspect-how-undo-redo-executes"><a class="link" href="#aspect-how-undo-redo-executes">Aspect: How undo &amp; redo executes</a></h6>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Saves the entire quiz book.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: May have performance issues in terms of memory usage.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Individual command knows how to undo/redo by itself.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Will use less memory (e.g. for <code>delete</code>, just save the person being deleted).</p>
</li>
<li>
<p>Cons: We must ensure that the implementation of each individual command are correct.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="aspect-data-structure-to-support-the-undo-redo-commands"><a class="link" href="#aspect-data-structure-to-support-the-undo-redo-commands">Aspect: Data structure to support the undo/redo commands</a></h6>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use a list to store the history of quiz book states.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy for new developers to understand.</p>
</li>
<li>
<p>Cons: May suffer from performance issues on the memory (When a new command is executed, we must remember to update the list from <code>VersionedQuizBook</code>.)</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use <code>HistoryManager</code> for undo/redo</p>
<div class="ulist">
<ul>
<li>
<p>Pros: We do not need to maintain a separate list, and just reuse what is already in the codebase.</p>
</li>
<li>
<p>Cons: Requires dealing with commands that have already been undone: We must remember to skip these commands. Violates Single Responsibility Principle and Separation of Concerns as <code>HistoryManager</code> now needs to do two different things.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="documentation"><a class="link" href="#documentation">4. Documentation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="Documentation.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing"><a class="link" href="#testing">5. Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="Testing.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dev-ops"><a class="link" href="#dev-ops">6. Dev Ops</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="DevOps.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-scope"><a class="link" href="#product-scope">Appendix A: Product Scope</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Target user profile</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>students at the National University of Singapore</p>
</li>
<li>
<p>prefer desktop apps over other types</p>
</li>
<li>
<p>can type fast</p>
</li>
<li>
<p>prefers typing over mouse input</p>
</li>
<li>
<p>is reasonably comfortable using CLI apps</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Value proposition</strong>: manage modules and tasks with more flexibility than a typical mouse/GUI driven app</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user-stories"><a class="link" href="#user-stories">Appendix B: User Stories</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Priorities: High (must have) - <code>* * *</code>, Medium (nice to have) - <code>* *</code>, Low (unlikely to have) - <code>*</code></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 59%;">
<colgroup>
<col style="width: 22%;">
<col style="width: 23%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">As a &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">I want to &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">So that I can&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">university student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add my modules by specifying a specific module code or title</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">track the modules I am taking this semester</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view details, content, and requirements of each modules</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">comprehensively come to a decision on which module to take in the upcoming semester</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">busy student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view my today&#8217;s schedule</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">busy student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know the deadlines for my tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">plan my schedule</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view the user guide easily</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">spend less time figuring out how to use the app</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">organised student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">schedule the times when I plan to do an assignment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know my timetable for the day</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lazy user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add a tag for each task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">search each task more quickly by using the tag</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">competitive student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add some questions and answers that I have learnt today</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read again and attempt them before exam</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student concerned with my CAP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find out what grades I should get in the current semester</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pull my CAP up to the next degree classification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view details of modules I have taken in previous semesters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see my progress</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">graduating student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see what remaining modules I need to take in order to fulfill my graduation requirements</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">plan my semester</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">person who often make mistakes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undo my previous actions</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see how many marks I have obtained for a module so far</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">review my progress</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">busy student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">refer and use the predictive text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">input a command with great ease and less time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">forgetful user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">receive reminders on assignments and work near the deadline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">remember to complete and submit it on time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">curious student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">calculate and predict how much effort I need to put for a particular module based on the score I have gained so far</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lazy and forgetful student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of lectures that I have missed</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student with too many assignments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">automatically get my assignment sorted according to its grade percentage</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">kiasu student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">make a checklist of materials that I have to learn for my exams</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student interested in numbers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view an overall summary of my academic journey so far</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">reflect on it</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clumsy typer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a program that still understand my commands even with minor spelling errors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not have to enter the command again</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">calendar app user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sync my timetable to my own personal calendar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">refer to my schedule</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="use-cases"><a class="link" href="#use-cases">Appendix C: Use Cases</a></h2>
<div class="sectionbody">
<h3 id="use-case-add-a-module-task-to-calendar" class="discrete">Use case: Add a module task to calendar</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User request to add a module task</p>
</li>
<li>
<p>Modulo checks the validity of the request</p>
</li>
<li>
<p>Modulo adds the module task to the user&#8217;s calendar</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The given time is invalid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. Modulo shows an error message.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="non-functional-requirements"><a class="link" href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Should work on any <a href="#mainstream-os">mainstream OS</a> as long as it has Java <code>11</code> or above installed.</p>
</li>
<li>
<p>Should minimize the amount of typing</p>
</li>
<li>
<p>Should work on various desktop size</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary"><a class="link" href="#glossary">Appendix E: Glossary</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="mainstream-os"></a> Mainstream OS</dt>
<dd>
<p>Windows, Linux, Unix, OS-X</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="instructions-for-manual-testing"><a class="link" href="#instructions-for-manual-testing">Appendix F: Instructions for Manual Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Given below are instructions to test the app manually.</p>
</div>
<div class="sect2">
<h3 id="launch-and-shutdown"><a class="link" href="#launch-and-shutdown">F.1. Launch and Shutdown</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First launch</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Download the jar file and copy into an empty folder</p>
</li>
<li>
<p>Double-click the jar file<br>
Expected: Shows the GUI with an initial setup page.</p>
</li>
<li>
<p>User types in <code>exit</code><br>
Expected: Closes the app and GUI</p>
</li>
</ol>
</div>
</li>
<li>
<p>Subsequent launches</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Double-click the jar file<br>
Expected: Shows the GUI with the timetable displayed.</p>
</li>
<li>
<p>User types in <code>exit</code><br>
Expected: Closes the app and GUI</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-10-30 15:48:07 UTC</div></div></div></body></html>